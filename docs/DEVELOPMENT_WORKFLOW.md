# å¼€å‘å·¥ä½œæµç¨‹æŒ‡å—

## ğŸš¨ é‡è¦è§„åˆ™

### 1. ç¦æ­¢æ‰‹åŠ¨ä¿®æ”¹ dist ç›®å½•
- **ç»å¯¹ç¦æ­¢**: ç›´æ¥ä¿®æ”¹ `dist/` ç›®å½•ä¸­çš„ä»»ä½•æ–‡ä»¶
- **æ­£ç¡®åšæ³•**: ä¿®æ”¹ `src/` æˆ– `public/` ç›®å½•ä¸­çš„æºæ–‡ä»¶ï¼Œç„¶åè¿è¡Œ `npm run build`
- **åŸå› **: dist ç›®å½•æ˜¯æ„å»ºäº§ç‰©ï¼Œä¼šè¢«æ„å»ºè„šæœ¬è¦†ç›–

### 2. æ„å»ºæµç¨‹
```bash
# æ ‡å‡†æ„å»ºæµç¨‹
npm run build

# æ„å»ºä¿æŠ¤æ£€æŸ¥
bash scripts/protect-build.sh

# è¿è¡Œæµ‹è¯•
npm run mcp:auto
```

### 3. å¼€å‘ç¯å¢ƒè®¾ç½®
```bash
# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼
npm run dev

# æ„å»ºæ‰©å±•
npm run build

# è¿è¡Œæµ‹è¯•
npm run test
npm run mcp:auto
```

## ğŸ”§ æŠ€æœ¯æ¶æ„è¯´æ˜

### æ–‡ä»¶ç»“æ„
```
mini-translate/
â”œâ”€â”€ src/                    # æºä»£ç 
â”‚   â”œâ”€â”€ services/          # æœåŠ¡æ¨¡å—
â”‚   â””â”€â”€ ...
â”œâ”€â”€ public/                # å…¬å…±èµ„æº
â”‚   â”œâ”€â”€ background.js      # åå°è„šæœ¬
â”‚   â”œâ”€â”€ content.js         # å†…å®¹è„šæœ¬
â”‚   â””â”€â”€ ...
â”œâ”€â”€ dist/                  # æ„å»ºäº§ç‰© (ç¦æ­¢æ‰‹åŠ¨ä¿®æ”¹)
â””â”€â”€ tests/                 # æµ‹è¯•æ–‡ä»¶
```

### å…³é”®æ–‡ä»¶è¯´æ˜
- `dist/background.js`: Service Workerï¼Œå¤„ç†æ‰©å±•åå°é€»è¾‘
- `dist/content.js`: å†…å®¹è„šæœ¬ï¼Œæ³¨å…¥åˆ°ç½‘é¡µä¸­
- `dist/qa-bridge.js`: QA API æ¡¥æ¥ï¼Œæä¾›æµ‹è¯•æ¥å£
- `dist/services/`: æœåŠ¡æ¨¡å—ï¼ŒåŒ…å«ä¸šåŠ¡é€»è¾‘

## ğŸ§ª æµ‹è¯•ç¯å¢ƒ

### MCP è‡ªåŠ¨åŒ–æµ‹è¯•
- ä½¿ç”¨ `npm run mcp:auto` è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
- æµ‹è¯•è„šæœ¬ä½äº `tests/mcp/batches/`
- æµ‹è¯•ç»“æœä¿å­˜åœ¨ `test-artifacts/`

### æµ‹è¯• API æ¨¡æ‹Ÿ
- æµ‹è¯•ç¯å¢ƒä½¿ç”¨ `tests/mcp/qa-api-mock.js` æ¨¡æ‹Ÿæ‰©å±• API
- è§£å†³æµ‹è¯•ç¯å¢ƒéš”ç¦»é—®é¢˜

## ğŸš€ éƒ¨ç½²æµç¨‹

### 1. å¼€å‘é˜¶æ®µ
```bash
# ä¿®æ”¹æºä»£ç 
vim src/services/translator.js

# æ„å»ºæ‰©å±•
npm run build

# è¿è¡Œæµ‹è¯•
npm run mcp:auto
```

### 2. å‘å¸ƒé˜¶æ®µ
```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# åˆ›å»ºå‘å¸ƒåŒ…
npm run package

# éªŒè¯æ„å»º
bash scripts/protect-build.sh
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜
1. **Import è·¯å¾„é”™è¯¯**: æ£€æŸ¥ `dist/background.js` ä¸­çš„ import è·¯å¾„
2. **QA API ä¸å¯ç”¨**: æ£€æŸ¥ `dist/qa-bridge.js` æ˜¯å¦åŒ…å«æ–°æ–¹æ³•
3. **æµ‹è¯•å¤±è´¥**: æ£€æŸ¥æµ‹è¯•ç¯å¢ƒæ˜¯å¦æ­£ç¡®åŠ è½½æ‰©å±•

### è°ƒè¯•æ­¥éª¤
1. æ£€æŸ¥æ„å»ºæ—¥å¿—
2. éªŒè¯æ–‡ä»¶ç»“æ„
3. è¿è¡Œä¿æŠ¤æ£€æŸ¥
4. æŸ¥çœ‹æµ‹è¯•æ—¥å¿—

## ğŸ“‹ æ£€æŸ¥æ¸…å•

### å¼€å‘å‰
- [ ] ç¡®è®¤åœ¨æ­£ç¡®çš„åˆ†æ”¯ä¸Š
- [ ] æ‹‰å–æœ€æ–°ä»£ç 
- [ ] æ£€æŸ¥ä¾èµ–æ˜¯å¦å®Œæ•´

### å¼€å‘ä¸­
- [ ] åªä¿®æ”¹ `src/` æˆ– `public/` ç›®å½•
- [ ] å®šæœŸè¿è¡Œ `npm run build`
- [ ] è¿è¡Œæµ‹è¯•éªŒè¯åŠŸèƒ½

### å¼€å‘å
- [ ] è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
- [ ] æ£€æŸ¥æ„å»ºäº§ç‰©
- [ ] æäº¤ä»£ç å˜æ›´
