# Story S9 — 扩展图标弹窗配置面板

## 背景
目前的配置入口只存在于 Options 页面，用户需要多次点击才能打开。希望在点击扩展图标时立即提供核心配置能力，提升使用效率。

## 用户价值
- 一键呼出弹窗即可修改模型、API Key 等设置，无需跳转独立页面。
- 在弹窗内浏览词库并进行简单维护，随时掌握当前状态。
- 常用的导入导出动作触手可及，节省操作步骤。

## 需求要点
1. 在 `manifest.json` 中为扩展图标声明 `default_popup`（例如 `popup.html`）。
2. 弹窗加载与 Options 页面共用的模块，展示内容包括：
   - 翻译服务配置表单（模型选择、Base URL、API Key、显示/隐藏、保存、测试）。
   - 词库概览：条目计数、最近若干词条列表、删除按钮、跳转到完整管理页的链接。
   - 导入/导出快捷区（TXT / JSON）。
3. 所有操作与 Options 页一致，复用 `chrome.storage` 与 `VOCAB_UPDATED` 广播，任何变更立即同步。
4. Toast/提示在弹窗内可见，若操作失败需给出原因；弹窗关闭后不残留脚本异常。
5. 保留原 Options 页面入口，弹窗提供前往“完整管理页”的按钮或链接。

## 验收标准
- 点击扩展图标立即弹出 UI，渲染时间 ≤300ms，无额外权限提示。
- 在弹窗内保存/测试时出现与 Options 相同的结果提示，并确认写入成功。
- 词库列表与 Options 页保持同步（添加/删除、导入导出均立即反映）。
- 导入导出在弹窗内可用，处理反馈与限制一致。
- 提供“打开完整管理页”跳转，关闭弹窗后无异常日志。

## QA Results
- Gate: TODO
- Tests: `npm run validate`
- Notes: 自动化覆盖设置保存/测试、词库操作逻辑；需在真实浏览器验证弹窗加载、导入导出及 toast 提示。
