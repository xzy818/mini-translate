# Story S5 — API/模型配置模块

## 背景
用户需要在管理页配置翻译模型与密钥，控制翻译成本与质量。

## 用户价值
- 自主选择模型并更新 API Key。
- 在一个界面管理所有翻译相关设置。

## 需求要点
1. 管理页底部显示模型设置区域，与词表区分层级。
2. 表单字段：模型下拉选择、API Base URL、API Key、测试按钮（可选）。
3. API Key 默认遮挡，可点击“显示/隐藏”。
4. 保存后写入 `chrome.storage.local`，并广播设置更新事件。
5. 提醒用户妥善保管 Key，不在公共场合暴露。
6. “测试”按钮会发送一次真实的短文本翻译请求，校验 Key/Base URL 是否有效。

## 验收标准
- 表单数据可保存并在刷新后恢复。
- 模型切换后翻译请求使用新配置。
- API Key 遮挡/显示交互符合预期。
- QA 覆盖保存、更新、错误提示、无 Key 状态。

## QA Results
- Gate: PASS — 设置表单支持保存/测试/遮挡切换，背景翻译调用读取最新配置。
- Tests: `npm run validate`
- Notes: jsdom 单测覆盖加载、保存、测试与遮挡交互；真实环境需确认通知权限与 API 回调行为，测试按钮会实际发起一次小规模翻译调用。
